(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7637],{2431:function(){},2223:function(e,t,s){Promise.resolve().then(s.bind(s,9726))},9726:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var n=s(7437),a=s(8501),r=s(2265),l=s(1208),i=s(5960),o=s(4131);s(144);var c=()=>{let{performGet:e}=(0,i.Z)(),[t,s]=(0,r.useState)({}),[a,c]=(0,r.useState)(!0),[d,m]=(0,r.useState)({}),[u,p]=(0,r.useState)(),[h,x]=(0,r.useState)(),[f,g]=(0,r.useState)(),b=async e=>{x(e.target.value)},{performPost:j}=(0,i.Z)(),v=async()=>{if(x(h.trim().replace(/ +(?= )/g,"")),g(f.trim().replace(/ +(?= )/g,"")),h&&""!==f&&(h.trim()!=t.name||f!=t.phone)){c(!0);let e={name:h,phone:f,email:t.email},n=await j("api/v1/profile-update",e);n.response.success?(c(!1),s(n.response.data),o.Z.set("mmt_user_name",e.name)):c(!1)}else alert("Name or Phone is invalid")},N=async()=>{p(String(u));try{if(u.length<300)return;c(!0);let e=await j("api/v1/image-update",{image:u});console.log(e.response.success),e.response.success?(c(!1),p(e.response.data.image_url),window.location.reload(),document.getElementById("update_profile_picture").close()):c(!1)}catch(e){console.error("Error updating image:",e)}},w=async()=>{c(!0);let{response:t,error:n}=await e("api/v1/profile");t?(s(t.data),c(!1),x(t.data.name),g(t.data.phone),""===t.data.image_url?p("/images/avatar.webp"):p(t.data.image_url)):m(t)};return(0,r.useEffect)(()=>{w()},[]),(0,n.jsx)(n.Fragment,{children:a?(0,n.jsxs)("div",{className:"w-full max-w-[640px] h-[460px] py-[42px] px-10 bg-white",children:[(0,n.jsx)("p",{className:"text-sm font-bold text-[#535D72] mb-[30px]",children:"Personal Information"}),(0,n.jsx)(l.Z,{width:50,height:50}),(0,n.jsxs)("ul",{className:"list-none",children:[(0,n.jsxs)("li",{className:"mt-[40px]",children:[" ",(0,n.jsxs)("p",{className:"text-[#838697]",children:["Name: ",(0,n.jsx)(l.Z,{width:100})]})]}),(0,n.jsx)("li",{className:"mt-[40px]",children:(0,n.jsxs)("p",{className:"text-[#838697]",children:["Email: ",(0,n.jsx)(l.Z,{width:100})]})}),(0,n.jsxs)("li",{className:"mt-[40px]",children:[" ",(0,n.jsxs)("p",{className:"text-[#838697]",children:["Phone Number: ",(0,n.jsx)(l.Z,{width:100})]})]})]})]}):(0,n.jsxs)("div",{className:"w-full h-[460px] py-[42px] px-10 bg-white ",children:[(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("p",{className:"text-xl font-bold text-[#535D72] pb-[10px] mb-[30px] border-b border-b-[#D9D9D9]",children:"Personal Information"}),(0,n.jsxs)("div",{className:"dropdown",children:[(0,n.jsx)("button",{className:"hover:opacity-70",tabIndex:0,role:"button",children:(0,n.jsx)("img",{className:"h-[60px] w-[60px] rounded-full",src:u,alt:"avatar"})}),(0,n.jsx)("ul",{tabIndex:0,className:"dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52",children:(0,n.jsx)("li",{children:(0,n.jsx)("a",{className:"font-medium",onClick:()=>document.getElementById("update_profile_picture").showModal(),children:"Change"})})})]}),(0,n.jsxs)("ul",{className:"list-none",children:[(0,n.jsxs)("li",{className:"mt-[40px]",children:[" ",(0,n.jsxs)("p",{className:"text-[#838697] flex",children:[(0,n.jsx)("b",{className:"md:w-[150px]",children:"Name:"})," ",(0,n.jsx)("span",{className:"ml-2.5",children:t.name})]})]}),(0,n.jsx)("li",{className:"mt-[20px]",children:(0,n.jsxs)("p",{className:"text-[#838697] flex",children:[(0,n.jsx)("b",{className:"md:w-[150px]",children:"Email:"})," ",(0,n.jsx)("span",{className:"ml-2.5",children:t.email})]})}),(0,n.jsxs)("li",{className:"mt-[20px]",children:[" ",(0,n.jsxs)("p",{className:"text-[#838697] flex",children:[(0,n.jsx)("b",{className:"md:w-[150px]",children:"Phone Number:"}),(0,n.jsx)("span",{className:"ml-2.5",children:t.phone})]})]})]})]}),(0,n.jsxs)("div",{className:"py-4",children:[(0,n.jsx)("button",{className:"py-[10px] px-[30px] bg-[#05a5ac] text-white lg:ml-[80%] ",onClick:()=>document.getElementById("update_information").showModal(),children:"Edit"}),(0,n.jsx)("dialog",{id:"update_information",className:"modal",children:(0,n.jsxs)("div",{className:"modal-box bg-white text-black",children:[(0,n.jsx)("h3",{className:"font-bold text-lg",children:"Edit Personal Information"}),(0,n.jsxs)("div",{className:"py-4",children:[(0,n.jsx)("label",{htmlFor:"name-changer",children:" Name"}),(0,n.jsx)("input",{id:"name-changer",type:"text",className:"mt-2 p-2 bg-gray-100 w-full rounded-lg",value:h,placeholder:h,onChange:b})]}),(0,n.jsxs)("div",{className:"pb-4",children:[(0,n.jsx)("label",{htmlFor:"phone-changer",children:" Phone"}),(0,n.jsx)("input",{id:"phone-changer",type:"tel",placeholder:f,className:"mt-2 p-2 bg-gray-100 w-full rounded-lg",value:f,pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",onChange:e=>{g(e.target.value)}})]}),(0,n.jsxs)("div",{className:"modal-action",children:[(0,n.jsxs)("button",{className:"btn bg-[#05a5ac] hover:bg-[#00a1a1] text-white border-none",onClick:v,children:[" ","Submit"," "]}),(0,n.jsx)("form",{method:"dialog",children:(0,n.jsx)("button",{className:"btn btn-error text-white",children:"Close"})})]})]})}),(0,n.jsx)("dialog",{id:"update_profile_picture",className:"modal",children:(0,n.jsxs)("div",{className:"modal-box bg-white  w-inherit xs:w-[300px] sm:w-[320px]  lg:w-full select-none ",children:[(0,n.jsxs)("div",{className:" flex flex-col items-center space-y-4",children:[(0,n.jsx)("h3",{className:"font-semibold  lg:font-bold text-sm lg:text-lg text-center",children:"Change Profile Picture"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("button",{className:" bg-[#05a5ac] hover:bg-[#00a1a1] text-white h-fit py-1 px-3 rounded-lg absolute m-auto left-0 right-0 top-[80px] lg:top-[100px] bottom-0 w-fit",onClick:()=>document.getElementById("fileInput").click(),children:["Change",(0,n.jsx)("input",{type:"file",id:"fileInput",accept:"image/*",className:"hidden",onChange:e=>{let t=e.target.files[0],s=new FileReader;s.onloadend=()=>{p(s.result),localStorage.setItem("profilePicture",u)},t&&s.readAsDataURL(t)}})]}),(0,n.jsx)("img",{className:"rounded-full size-[150px] lg:size-[200px]",src:u,alt:"avatar"})]})]}),(0,n.jsxs)("div",{className:"modal-action",children:[(0,n.jsx)("button",{className:"btn bg-[#05a5ac] hover:bg-[#00a1a1] text-white border-none",onClick:N,children:"Submit"}),(0,n.jsx)("form",{method:"dialog",className:" space-x-[30px]",children:(0,n.jsx)("button",{className:"btn btn-error text-white",children:"Close"})})]})]})})]})]})})},d=()=>(0,n.jsxs)("div",{className:"h-screen bg-[#f8f8f8] overflow-y-auto",children:[(0,n.jsx)("header",{children:(0,n.jsx)(a.default,{title:"Personal Information"})}),(0,n.jsx)("div",{className:"pt-[40px] bg-[#f8f8f8] ",children:(0,n.jsx)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-10 mx-auto my-container p-4 ",children:(0,n.jsx)(c,{})})})]})},8501:function(e,t,s){"use strict";s.d(t,{default:function(){return m}});var n=s(7437),a=s(9618),r=s(5960),l=s(4131);s(7648);var i=s(149),o=s(2265);let c=()=>{let e=document.getElementById("my-drawer");e&&e.click()};var d=()=>(0,n.jsx)("div",{className:"flex lg:hidden",children:(0,n.jsx)("button",{htmlFor:"my-drawer",onClick:c,children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})})}),m=e=>{let{title:t}=e,[s,c]=(0,o.useState)(!0),{performGet:m}=(0,r.Z)(),[u,p]=(0,o.useState)({}),[h,x]=(0,o.useState)(),[f,g]=(0,o.useState)(),{isOpen:b,toggle:j}=(0,a.Z)(),v=(0,i.tv)(),N=async()=>{let{response:e,error:t}=await m("api/v1/profile");e?(p(e.data),x(e.data.name),""===e.data.image_url?g("/images/user/user.svg"):g(e.data.image_url)):console.log(e)};return(0,o.useEffect)(()=>{N()},[]),(0,n.jsx)("div",{className:"bg-white ",children:(0,n.jsxs)("div",{className:"h-20 px-7 lg:px-10 flex items-center justify-between ",children:[(0,n.jsxs)("div",{className:"flex space-x-[20px]",children:[(0,n.jsx)(d,{}),(0,n.jsx)("h3",{className:"w-[70px] sm:w-full text-[#5E5D72] font-roboto text-1rem font-semibold",children:t})]}),(0,n.jsx)("div",{className:"space-x-[30px] flex justify-between items-center ",children:(0,n.jsxs)("div",{className:"dropdown dropdown-end",children:[(0,n.jsx)("div",{className:"flex relative",children:(0,n.jsx)("div",{tabIndex:0,role:"button",className:"",children:(0,n.jsx)("img",{className:"rounded-full h-[40px] w-[40px]",src:f,alt:""})})}),(0,n.jsx)("ul",{tabIndex:0,className:"dropdown-content z-[1] menu p-2 shadow bg-white rounded-box w-52",children:(0,n.jsx)("li",{className:"rounded-lg",children:(0,n.jsx)("div",{onClick:()=>{l.Z.remove("mmt_user_name"),l.Z.remove("mmt_user_session"),l.Z.remove("mmt_user_id"),l.Z.remove("cart-token"),v.push("/sign-in")},className:" w-full",children:"Sign Out"})})})]})})]})})}},144:function(e,t,s){"use strict";s.d(t,{C:function(){return o},L:function(){return i}});var n=s(7437),a=s(2265),r=s(4915);let l=(0,a.createContext)(),i=e=>{let{children:t}=e,[s,i]=(0,a.useState)((0,r.Z)());return(0,n.jsx)(l.Provider,{value:{getUser:s,updateUser:()=>{i((0,r.Z)())}},children:t})},o=()=>{let e=(0,a.useContext)(l);if(!e)throw Error("useUserName must be used within a UserNameProvider");return e}},4915:function(e,t,s){"use strict";var n=s(4131);t.Z=()=>n.Z.get("mmt_user_name")||null},9618:function(e,t,s){"use strict";var n=s(2265);t.Z=()=>{let[e,t]=(0,n.useState)(!1);return{isOpen:e,toggle:e=>{t(e)}}}},5960:function(e,t,s){"use strict";var n=s(4131),a=s(9376);t.Z=()=>{let e=(0,a.useRouter)(),t=async(t,s,a)=>{let r=n.Z.get("mmt_user_session");try{let l;if(!r)return e.push("/sign-in"),{response:null,error:"User not authenticated"};let i="".concat("https://api.matchmytees.com","/").concat(t),o={Accept:"application/json",Authorization:"Bearer ".concat(r)};"GET"!==s&&(o["Content-Type"]="application/json");let c={method:s,headers:o,body:"GET"!==s?JSON.stringify(a):void 0};l=await fetch(i,c);let d=await l.json();if(401===l.status)return n.Z.remove("mmt_user_name"),n.Z.remove("mmt_user_session"),n.Z.remove("mmt_user_id"),e.push("/sign-in"),{response:null,error:"Unauthorized token"};return{response:d,error:null}}catch(e){return console.log("Error in API call:",e),{response:null,error:e}}};return{performGet:async e=>t(e,"GET"),performPost:async(e,s)=>t(e,"POST",s),performPut:async(e,s)=>t(e,"PUT",s),performDelete:async e=>t(e,"DELETE")}}},4131:function(e,t,s){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)e[n]=s[n]}return e}s.d(t,{Z:function(){return a}});var a=function e(t,s){function a(e,a,r){if("undefined"!=typeof document){"number"==typeof(r=n({},s,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var i in r)r[i]&&(l+="; "+i,!0!==r[i]&&(l+="="+r[i].split(";")[0]));return document.cookie=e+"="+t.write(a,e)+l}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var s=document.cookie?document.cookie.split("; "):[],n={},a=0;a<s.length;a++){var r=s[a].split("="),l=r.slice(1).join("=");try{var i=decodeURIComponent(r[0]);if(n[i]=t.read(l,i),e===i)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){a(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(s)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},1208:function(e,t,s){"use strict";s.d(t,{Z:function(){return r},y:function(){return l}});var n=s(2265);let a=n.createContext({});function r(e){var t,s,r;let{count:l=1,wrapper:i,className:o,containerClassName:c,containerTestId:d,circle:m=!1,style:u,...p}=e,h=n.useContext(a),x={...p};for(let[e,t]of Object.entries(p))void 0===t&&delete x[e];let f={...h,...x,circle:m},g={...u,...function(e){let{baseColor:t,highlightColor:s,width:n,height:a,borderRadius:r,circle:l,direction:i,duration:o,enableAnimation:c=!0,customHighlightBackground:d}=e,m={};return"rtl"===i&&(m["--animation-direction"]="reverse"),"number"==typeof o&&(m["--animation-duration"]="".concat(o,"s")),c||(m["--pseudo-element-display"]="none"),("string"==typeof n||"number"==typeof n)&&(m.width=n),("string"==typeof a||"number"==typeof a)&&(m.height=a),("string"==typeof r||"number"==typeof r)&&(m.borderRadius=r),l&&(m.borderRadius="50%"),void 0!==t&&(m["--base-color"]=t),void 0!==s&&(m["--highlight-color"]=s),"string"==typeof d&&(m["--custom-highlight-background"]=d),m}(f)},b="react-loading-skeleton";o&&(b+=" ".concat(o));let j=null!==(t=f.inline)&&void 0!==t&&t,v=[],N=Math.ceil(l);for(let e=0;e<N;e++){let t=g;if(N>l&&e===N-1){let e=null!==(s=t.width)&&void 0!==s?s:"100%",n=l%1,a="number"==typeof e?e*n:"calc(".concat(e," * ").concat(n,")");t={...t,width:a}}let a=n.createElement("span",{className:b,style:t,key:e},"‌");j?v.push(a):v.push(n.createElement(n.Fragment,{key:e},a,n.createElement("br",null)))}return n.createElement("span",{className:c,"data-testid":d,"aria-live":"polite","aria-busy":null===(r=f.enableAnimation)||void 0===r||r},i?v.map((e,t)=>n.createElement(i,{key:t},e)):v)}function l(e){let{children:t,...s}=e;return n.createElement(a.Provider,{value:s},t)}}},function(e){e.O(0,[2972,8003,5752,2971,2117,1744],function(){return e(e.s=2223)}),_N_E=e.O()}]);