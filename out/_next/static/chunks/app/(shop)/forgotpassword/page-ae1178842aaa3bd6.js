(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3627],{2431:function(){},4661:function(e,t,s){Promise.resolve().then(s.bind(s,592))},592:function(e,t,s){"use strict";s.r(t);var a=s(7437),o=s(3562),n=s(5007),r=s(4809),l=s(3775),i=s(7648),c=s(2265),m=s(9501),d=s(7061);t.default=()=>{let{register:e,handleSubmit:t,setValue:s,formState:{errors:u}}=(0,m.cI)(),{performPost:p}=(0,l.Z)(),[h,f]=(0,c.useState)(""),x=async e=>{try{let t=d.Am.loading("Please wait..."),s=await p("api/v1/password/otp-mail",e);s.success?(d.Am.update(t,{render:s.message,type:"success",isLoading:!1,autoClose:3e3}),f(e.email),document.getElementById("otp_modal").showModal()):d.Am.update(t,{render:"Email is not registered",type:"warning",isLoading:!1,autoClose:3e3})}catch(e){console.log(e)}},[g,y]=(0,c.useState)(!1),[w,b]=(0,c.useState)(""),[j,v]=(0,c.useState)("");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"my-container lg:max-w-xl mx-auto top-bottom-margin flex flex-col justify-center gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1 xl:gap-4",children:[(0,a.jsx)("h2",{className:"font-staatliches text-black text-xl lg:text-5xl",children:"Forgot your password!"}),(0,a.jsx)("p",{className:"font-roboto text-center font-medium capitalize text-sub-work-card text-sm xl:text-xl xl:font-normal",children:"instructions to reset your password will be sent you. please check your email"})]}),(0,a.jsxs)("form",{onSubmit:t(x),children:[(0,a.jsx)(r.Z,{type:"email",name:"email",placeholder:"Email",register:e,error:u.email,notRequired:!0}),(0,a.jsx)("div",{className:"mt-3 flex items-center justify-center",children:(0,a.jsx)(n.Z,{name:"Submit",type:"submit"})})]}),(0,a.jsxs)("p",{className:"font-roboto text-xs lg:text-sm font-normal text-title-work-card",children:["By continuing you agree to our"," ",(0,a.jsx)(i.default,{className:"text-[#1599D2] underline",href:"/#",children:"Terms and Conditions,"}),"our"," ",(0,a.jsx)(i.default,{className:"text-[#1599D2] underline",href:"/#",children:"Privacy Policy,"})," ","and the MatchMyTees",(0,a.jsxs)(i.default,{className:"text-[#1599D2] underline",href:"/#",children:[" ","Program Terms."]})]}),(0,a.jsx)("hr",{className:"border-[#7F7F7F] w-full"}),(0,a.jsxs)("h3",{className:"font-roboto text-sm font-normal text-title-work-card",children:["Donâ€™t have an account?"," ",(0,a.jsx)(i.default,{className:"text-[#1599D2] underline",href:"/sign-up",children:"Create an account"})," ","or Sigin your existing account"," ",(0,a.jsx)(i.default,{className:"text-[#1599D2] underline",href:"/sign-in",children:"Sign in"})]})]}),(0,a.jsx)(o.Z,{sendOtpEmail:h,type:"ResetPassword",resetPasswordHandler:(e,t)=>{e&&t&&(y(!0),b(e),v(t))}})]})}},9978:function(e,t,s){"use strict";var a=s(7437),o=s(9376),n=s(2265);t.Z=e=>{let{modalId:t="my_modal_2",children:s,background:r="bg-white",onClick:l,type:i="general"}=e,c=(0,o.usePathname)(),m=(0,o.useSearchParams)();return(0,n.useEffect)(()=>{t&&"promotional_modal_id"!==t&&document.getElementById(t).close()},[c,m]),(0,a.jsxs)("dialog",{id:t,className:"modal",children:[(0,a.jsx)("div",{className:"modal-box ".concat(r),children:s}),"otp"!==i&&(0,a.jsx)("form",{onClick:l,method:"dialog",className:"modal-backdrop",children:(0,a.jsx)("button",{children:"close"})})]})}},3562:function(e,t,s){"use strict";var a=s(7437),o=s(2265);s(3145);var n=s(9978),r=s(4809),l=s(3775),i=s(9501),c=s(149),m=s(7061);t.Z=e=>{let{modalHandle:t,sendOtpEmail:s,type:d}=e,[u,p]=(0,o.useState)(3),[h,f]=(0,o.useState)(0),[x,g]=(0,o.useState)(!1),{register:y,handleSubmit:w,formState:{errors:b},setError:j}=(0,i.cI)(),{performPost:v}=(0,l.Z)(),N=(0,c.tv)(),P=async e=>{if(""===s)return m.Am.error("something went wrong with otp email",{autoClose:3e3,theme:"light",transition:Bounce});{let t;let a={email:s,otp:e.otp},o=m.Am.loading("Please wait...");try{(t="ResetPassword"===d?await v("api/v1/otp-validate",a):await v("api/v1/email-verify",a)).success?"ResetPassword"===d?(localStorage.setItem("resetPasswordData",JSON.stringify({email:s,otp:e.otp})),m.Am.update(o,{render:t.message,type:"success",isLoading:!1,autoClose:3e3}),setTimeout(()=>{N.push("/resetpassword"),S()},0)):(m.Am.update(o,{render:t.message,type:"success",isLoading:!1,autoClose:3e3}),setTimeout(()=>{N.push("/sign-in"),S()},0)):j("otp",{type:"manual",message:"Otp is not valid. Please check the code."})}catch(e){console.error("Error while handling OTP request:",e)}}};(0,o.useEffect)(()=>{let e=setInterval(()=>{h>0?f(h-1):u>0?(p(u-1),f(59)):(clearInterval(e),g(!0))},1e3);return()=>clearInterval(e)},[u,h]);let S=()=>{document.getElementById("otp_modal").close()},k=async()=>{let e;let t={email:s},a=m.Am.loading("Please wait...");(e="ResetPassword"===d?await v("api/v1/password/otp-mail",t):await v("api/v1/verify-email-otp",t)).success?(m.Am.update(a,{render:e.message,type:"success",isLoading:!1,autoClose:3e3}),g(!1),p(3),f(0),j("otp",{type:"manual",message:""})):(m.Am.update(a,{render:"Please register as new user.",type:"warning",isLoading:!1,autoClose:3e3}),N.push("/sign-up"))};return(0,a.jsx)(n.Z,{onClick:t,modalId:"otp_modal",type:"otp",background:"bg-white max-w-[905px] h-fit p-4 sm:h-[328px] p-0 overflow-hidden flex ",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center max-w-[685px]  m-auto",children:[(0,a.jsx)("img",{src:"/images/otp/otp.svg",width:176,height:176,className:"w-24 md:w-[176px]"}),(0,a.jsxs)("div",{className:"sm:ml-12",children:[(0,a.jsx)("p",{className:"font-semi text-black text-xl mt-4 sm:text-3xl ",children:"ResetPassword"==d?"Two-factor authentication":"Verify your email"}),(0,a.jsxs)("p",{className:"text-black mt-2 ",children:["A verification code has been sent to your email. This code will be valid for ",u," minute",1!==u&&"s"," and ",h," ","second",1!==h&&"s","."]})," ",x?(0,a.jsx)("button",{className:"text-sm mt-4 text-black hover:underline",onClick:e=>k(),children:"Resend OTP"}):(0,a.jsx)("button",{className:"text-gray-200 text-sm mt-4 underline",disabled:!0,children:"Resend OTP"}),(0,a.jsx)("form",{onSubmit:w(P),children:(0,a.jsxs)("div",{className:" sm:relative",children:[(0,a.jsx)("div",{className:"w-full sm:w-80",children:(0,a.jsx)(r.Z,{name:"otp",type:"number",placeholder:"OTP code",register:y,notRequired:!0,error:b.otp})}),(0,a.jsx)("button",{type:"submit",className:"mt-4 w-full sm:mt-0 sm:absolute sm:w-fit sm:right-10 sm:top-0 btn bg-orange-primary text-white font-medium hover:bg-yellow-primary hover:text-black",children:"Submit"})]})})]})]})})}},5007:function(e,t,s){"use strict";var a=s(7437);t.Z=e=>{let{name:t,type:s,disable:o}=e;return(0,a.jsx)("button",{type:s,className:"btn w-full max-w-fit md:max-w-full border-none text-white bg-orange-primary hover:bg-orange-primary/80   active:bg-orange-primary/90 text-sm font-normal md:font-medium md:text-base xl:text-[24px] disabled:bg-orange-primary",disabled:o,children:o?(0,a.jsx)("span",{className:"loading loading-spinner loading-sm !bg-white"}):t})}},4809:function(e,t,s){"use strict";var a=s(7437),o=s(7648);t.Z=e=>{let{type:t,name:s,placeholder:n,register:r,value:l,error:i,isForgot:c=!1,handleChange:m,errorsHandle:d,notRequired:u,defaultValue:p,validation:h}=e,f=e=>{let t=e.target.value;t.length>2&&m&&m(t)};return(0,a.jsxs)("main",{className:"w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col w-full gap-0.5",children:[(0,a.jsx)("input",{className:"w-full h-12 px-4 border border-[#B1B5B8] focus:outline focus:outline-[#00A6AC] rounded-md text-black placeholder:text-[#989898] ".concat("discount"==s&&"bg-[#FBFBFB]"),type:t,name:s,value:l,defaultValue:p,placeholder:n,...r(s,{onChange:e=>{f(e)},...u&&{required:"".concat(s," is required"),...h}})}),c&&(0,a.jsx)(o.default,{className:"self-end font-roboto font-medium underline text-sm text-sub-work-card",href:"/forgotpassword",children:"Forgot password?"})]}),i&&(0,a.jsx)("p",{className:"font-roboto font-medium underline text-sm text-red-400 first-letter:uppercase",children:i.message})]})}},3775:function(e,t){"use strict";t.Z=()=>({performGet:async e=>{try{return(await fetch("".concat("https://api.matchmytees.com","/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}})).json()}catch(e){console.log(e)}},performPost:async(e,t)=>{try{return(await fetch("".concat("https://api.matchmytees.com","/").concat(e),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)})).json()}catch(e){console.log(e)}},performPut:async(e,t)=>{try{return(await fetch("".concat("https://api.matchmytees.com","/").concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json()}catch(e){console.log(e)}},performDelete:async e=>{try{return(await fetch("".concat("https://api.matchmytees.com","/").concat(e),{method:"DELETE"})).json()}catch(e){console.log(e)}}})},3145:function(e,t,s){"use strict";s.d(t,{default:function(){return o.a}});var a=s(8461),o=s.n(a)},8461:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return i},getImageProps:function(){return l}});let a=s(7043),o=s(5346),n=s(5878),r=a._(s(5084));function l(e){let{props:t}=(0,o.getImgProps)(e,{defaultLoader:r.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let i=n.Image}},function(e){e.O(0,[2972,8003,5752,7061,9501,5878,2971,2117,1744],function(){return e(e.s=4661)}),_N_E=e.O()}]);