(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8416],{2431:function(){},4591:function(e,t,s){Promise.resolve().then(s.bind(s,2772))},2772:function(e,t,s){"use strict";s.r(t);var o=s(7437),r=s(2265),n=s(3775),a=s(9501),c=s(149),i=s(7061),l=s(4131),u=s(4809);t.default=()=>{let[e,t]=(0,r.useState)(3),[s,m]=(0,r.useState)(0),[d,p]=(0,r.useState)(!1),{register:h,handleSubmit:f,formState:{errors:x},setError:g}=(0,a.cI)(),{performPost:y}=(0,n.Z)(),v=(0,c.tv)(),b=async e=>{let t={email:l.Z.get("email"),status:1,otp:e.otp},s=i.Am.loading("Please wait..."),o=l.Z.get("status");try{let e=await y("api/v1/create-dummy-user",t);e.success&&e.data&&"checkout complete"==o?(i.Am.success(e.message,{autoClose:3e3,hideProgressBar:!0,pauseOnHover:!0}),v.push("/checkout/register/password"),l.Z.set("status","otp complete"),g("otp",{type:"manual",message:""})):(i.Am.error(e.message,{autoClose:3e3,hideProgressBar:!0,pauseOnHover:!0}),g("otp",{type:"manual",message:"Otp is not valid. Please check the code."})),i.Am.dismiss(s)}catch(e){i.Am.dismiss(s),console.error("Error while handling OTP request:",e)}};(0,r.useEffect)(()=>{let o=setInterval(()=>{s>0?m(s-1):e>0?(t(e-1),m(59)):(clearInterval(o),p(!0))},1e3);return()=>clearInterval(o)},[e,s]),(0,r.useEffect)(()=>{"checkout complete"!==l.Z.get("status")&&v.push("/")},[]);let w=async()=>{let e={email:l.Z.get("email")},s=await y("api/v1/verify-dummy-user-otp",e);console.log(s),s.success?(p(!1),t(3),m(0),g("otp",{type:"manual",message:""})):i.Am.error(s.message,{autoClose:3e3,hideProgressBar:!0,pauseOnHover:!0})};return(0,o.jsx)("div",{className:"my-[160px] ",children:(0,o.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center max-w-[685px] mx-auto max-sm:p-4 py-12 px-[60px] shadow-[0px_0px_4px_rgba(0,0,0,0.12)] rounded-[13px]",children:[(0,o.jsx)("img",{src:"/images/otp/otp.svg",width:176,height:176,className:"w-24 md:w-[176px]"}),(0,o.jsxs)("div",{className:"sm:ml-12",children:[(0,o.jsx)("p",{className:"font-semi text-black text-xl mt-4 sm:text-3xl ",children:"Verify your email"}),(0,o.jsxs)("p",{className:"text-black mt-2 ",children:["A verification code has been sent to your email. This code will be valid for ",e," minute",1!==e&&"s"," and ",s," ","second",1!==s&&"s","."]})," ",d?(0,o.jsx)("button",{className:"text-gray-200 text-sm mt-4 underline",disabled:!0,children:"Resend OTP"}):(0,o.jsx)("button",{className:"text-sm mt-4 text-black hover:underline",onClick:e=>w(),children:"Resend OTP"}),(0,o.jsx)("form",{onSubmit:f(b),children:(0,o.jsxs)("div",{className:"w-full sm:w-80 relative",children:[(0,o.jsx)(u.Z,{name:"otp",type:"number",placeholder:"OTP code",register:h,notRequired:!0,error:x.otp}),(0,o.jsx)("button",{type:"submit",className:"w-full absolute right-0 top-0 sm:w-fit btn bg-orange-primary text-white font-medium hover:bg-yellow-primary hover:text-black border-none",children:"Submit"})]})})]})]})})}},4809:function(e,t,s){"use strict";var o=s(7437),r=s(7648);t.Z=e=>{let{type:t,name:s,placeholder:n,register:a,value:c,error:i,isForgot:l=!1,handleChange:u,errorsHandle:m,notRequired:d,defaultValue:p,validation:h}=e,f=e=>{let t=e.target.value;t.length>2&&u&&u(t)};return(0,o.jsxs)("main",{className:"w-full",children:[(0,o.jsxs)("div",{className:"flex flex-col w-full gap-0.5",children:[(0,o.jsx)("input",{className:"w-full h-12 px-4 border border-[#B1B5B8] focus:outline focus:outline-[#00A6AC] rounded-md text-black placeholder:text-[#989898] ".concat("discount"==s&&"bg-[#FBFBFB]"),type:t,name:s,value:c,defaultValue:p,placeholder:n,...a(s,{onChange:e=>{f(e)},...d&&{required:"".concat(s," is required"),...h}})}),l&&(0,o.jsx)(r.default,{className:"self-end font-roboto font-medium underline text-sm text-sub-work-card",href:"/forgotpassword",children:"Forgot password?"})]}),i&&(0,o.jsx)("p",{className:"font-roboto font-medium underline text-sm text-red-400 first-letter:uppercase",children:i.message})]})}},3775:function(e,t){"use strict";t.Z=()=>({performGet:async e=>{try{return(await fetch("".concat("https://api.matchmytees.com","/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}})).json()}catch(e){console.log(e)}},performPost:async(e,t)=>{try{return(await fetch("".concat("https://api.matchmytees.com","/").concat(e),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)})).json()}catch(e){console.log(e)}},performPut:async(e,t)=>{try{return(await fetch("".concat("https://api.matchmytees.com","/").concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json()}catch(e){console.log(e)}},performDelete:async e=>{try{return(await fetch("".concat("https://api.matchmytees.com","/").concat(e),{method:"DELETE"})).json()}catch(e){console.log(e)}}})},4131:function(e,t,s){"use strict";function o(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)e[o]=s[o]}return e}s.d(t,{Z:function(){return r}});var r=function e(t,s){function r(e,r,n){if("undefined"!=typeof document){"number"==typeof(n=o({},s,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var c in n)n[c]&&(a+="; "+c,!0!==n[c]&&(a+="="+n[c].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+a}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var s=document.cookie?document.cookie.split("; "):[],o={},r=0;r<s.length;r++){var n=s[r].split("="),a=n.slice(1).join("=");try{var c=decodeURIComponent(n[0]);if(o[c]=t.read(a,c),e===c)break}catch(e){}}return e?o[e]:o}},remove:function(e,t){r(e,"",o({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,o({},this.attributes,t))},withConverter:function(t){return e(o({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(s)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[2972,8003,5752,7061,9501,2971,2117,1744],function(){return e(e.s=4591)}),_N_E=e.O()}]);