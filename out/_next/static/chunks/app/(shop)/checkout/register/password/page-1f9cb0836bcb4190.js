(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2379],{2431:function(){},3919:function(e,t,r){Promise.resolve().then(r.bind(r,185))},185:function(e,t,r){"use strict";r.r(t);var a=r(7437),s=r(2265),o=r(9501),n=r(3775),c=r(149),i=r(7061),l=r(4131),u=r(4021),d=r(4809),m=r(5007);t.default=()=>{let{register:e,handleSubmit:t,formState:{errors:r}}=(0,o.cI)({defaultValues:{password:"",password2:""}}),{fetchCartData:p}=(0,u.j)(),[f,h]=(0,s.useState)(""),[x,g]=(0,s.useState)(!1),{performPost:y}=(0,n.Z)(),w=(0,c.tv)();(0,s.useEffect)(()=>{"otp complete"!==l.Z.get("status")&&w.push("/")});let v=async e=>{let t=i.Am.loading("Please wait..."),r=l.Z.get("cart-token");if(e.password!==e.password2){let e="Passwords do not match";h(e),i.Am.update(t,{render:e,type:"error",isLoading:!1,autoClose:3e3})}else{g(!0);try{let a={email:l.Z.get("email"),password:e.password,confirm_password:e.password2,status:2},s=await y("api/v1/create-dummy-user",a),o=l.Z.get("status");if(s.success&&"otp complete"==o){i.Am.update(t,{render:"Registration has been completed!",type:"success",isLoading:!1,autoClose:3e3}),l.Z.set("mmt_user_session",e.data.token),l.Z.set("mmt_user_name",e.data.userExist.name),l.Z.set("mmt_user_id",e.data.userExist.id);let e=await performGetToken("cart?cart=".concat(cartToken));e.success&&(l.Z.remove("status"),l.Z.remove("cart-token"),l.Z.remove("email"),window.location.href="".concat("https://api.matchmytees.com","/pay/").concat(r))}}catch(e){i.Am.update(t,{render:"An error occurred. Please try again.",type:"error",isLoading:!1,autoClose:3e3}),g(!1)}}};return(0,a.jsx)("div",{className:"my-[160px] ",children:(0,a.jsxs)("div",{className:" max-w-[685px] mx-auto max-sm:p-4 py-12 px-[60px] shadow-[0px_0px_4px_rgba(0,0,0,0.12)] rounded-[13px]",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1 xl:gap-4 mb-6",children:[(0,a.jsx)("h2",{className:"font-staatliches text-black text-xl lg:text-5xl",children:"Set Up Your Password"}),(0,a.jsx)("p",{className:"font-roboto font-medium capitalize text-sub-work-card text-sm xl:text-xl xl:font-normal",children:"Protect Your Account with a Strong Password"})]}),(0,a.jsxs)("form",{onSubmit:t(v),className:"flex flex-col gap-4",children:[(0,a.jsx)(d.Z,{type:"password",name:"password",placeholder:"Password",register:e,error:r.password}),(0,a.jsx)(d.Z,{type:"password",name:"password2",placeholder:"Confirm Password",register:e,error:r.password2||f}),(0,a.jsx)(m.Z,{disable:x,name:"Create account",type:"submit"})]})]})})}},5007:function(e,t,r){"use strict";var a=r(7437);t.Z=e=>{let{name:t,type:r,disable:s}=e;return(0,a.jsx)("button",{type:r,className:"btn w-full max-w-fit md:max-w-full border-none text-white bg-orange-primary hover:bg-orange-primary/80   active:bg-orange-primary/90 text-sm font-normal md:font-medium md:text-base xl:text-[24px] disabled:bg-orange-primary",disabled:s,children:s?(0,a.jsx)("span",{className:"loading loading-spinner loading-sm !bg-white"}):t})}},4809:function(e,t,r){"use strict";var a=r(7437),s=r(7648);t.Z=e=>{let{type:t,name:r,placeholder:o,register:n,value:c,error:i,isForgot:l=!1,handleChange:u,errorsHandle:d,notRequired:m,defaultValue:p,validation:f}=e,h=e=>{let t=e.target.value;t.length>2&&u&&u(t)};return(0,a.jsxs)("main",{className:"w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col w-full gap-0.5",children:[(0,a.jsx)("input",{className:"w-full h-12 px-4 border border-[#B1B5B8] focus:outline focus:outline-[#00A6AC] rounded-md text-black placeholder:text-[#989898] ".concat("discount"==r&&"bg-[#FBFBFB]"),type:t,name:r,value:c,defaultValue:p,placeholder:o,...n(r,{onChange:e=>{h(e)},...m&&{required:"".concat(r," is required"),...f}})}),l&&(0,a.jsx)(s.default,{className:"self-end font-roboto font-medium underline text-sm text-sub-work-card",href:"/forgotpassword",children:"Forgot password?"})]}),i&&(0,a.jsx)("p",{className:"font-roboto font-medium underline text-sm text-red-400 first-letter:uppercase",children:i.message})]})}},4021:function(e,t,r){"use strict";r.d(t,{Z:function(){return m},j:function(){return p}});var a=r(7437),s=r(2265),o=r(4131),n=r(3775),c=r(5960),i=()=>{let[e,t]=(0,s.useState)(!1),[r,a]=(0,s.useState)([]),[i,l]=(0,s.useState)([]),[u,d]=(0,s.useState)([]),{performGet:m,performPost:p}=(0,n.Z)(),{performGet:f,performPost:h}=(0,c.Z)(),x=e=>{a(t=>t.filter(t=>t.id!==e))},g=(e,t)=>{d(r=>r.map((r,a)=>a===e?t:r))},y=(e,t)=>{a(r=>r.map(r=>r.id===e.data.items[t].id?e.data.items[t]:r))},w=async()=>{t(!0);let e=o.Z.get("cart-token"),r=o.Z.get("mmt_user_session");if(e)try{let t;if(r){let{response:r}=await f("cart?cart=".concat(e));t=r}else t=await m("cart?cart=".concat(e));t.success&&(t.cart_change?o.Z.set("cart-token",t.data.uid):(l(t.data),a(t.data.items),d(Array(t.data.items.length).fill(!1))))}catch(e){console.error("Error fetching cart data:",e)}finally{t(!1)}},v=async(e,t,r,a,s,o,n,c,i,l,u)=>{let d;"decrement"==u?d={id:t,color:r,design:a,size:s,sneaker:o,quantity:n>1?n-1:n,title:c,product_type:i,cart:l}:"increment"===u&&(d={id:t,color:r,design:a,size:s,sneaker:o,quantity:n+1,title:c,product_type:i,cart:l}),g(e,!0);let m=await p("cart",d);m.success&&(y(m,e),w()),g(e,!1)};return{isLoading:e,cartData:r,cartDetailData:i,isCartUpdate:u,fetchCartData:w,handleRemoveCartData:x,handleQuantity:v,handleIsCartUpdate:g,handleRemoveCartData:x}},l=()=>{let{performGet:e,performPost:t}=(0,n.Z)(),[r,a]=(0,s.useState)(!1);return{loading:r,handleToCart:async(r,s,n,c,i)=>{a(!0);let l=o.Z.get("cart-token");if(!l){let t=await e("cart");200===t.status&&(o.Z.set("cart-token",t.data.uid),l=o.Z.get("cart-token"))}let u={quantity:r,sneaker:s.sneaker.slug,size:n.variants[i],color:s.color,cart:l,product_type:c.type,title:s.title,design:c.design};await t("cart",u),a(!1)}}},u=()=>{let{performPost:e}=(0,n.Z)();return{handleRemove:async(t,r,a,s,o)=>{s(r,!0),(await e("cart/remove",{cart:o,id:t})).success&&(a(t),s(r,!1))}}};let d=(0,s.createContext)(),m=e=>{let{children:t}=e,[r,o]=(0,s.useState)(!1),n=i(),c=l(),m=u();return(0,a.jsx)(d.Provider,{value:{...n,...c,...m,openCart:r,setOpenCart:o},children:t})},p=()=>{let e=(0,s.useContext)(d);if(!e)throw Error("useCart must be used within a CartProvider");return e}},3775:function(e,t){"use strict";t.Z=()=>({performGet:async e=>{try{return(await fetch("".concat("https://api.matchmytees.com","/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}})).json()}catch(e){console.log(e)}},performPost:async(e,t)=>{try{return(await fetch("".concat("https://api.matchmytees.com","/").concat(e),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)})).json()}catch(e){console.log(e)}},performPut:async(e,t)=>{try{return(await fetch("".concat("https://api.matchmytees.com","/").concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json()}catch(e){console.log(e)}},performDelete:async e=>{try{return(await fetch("".concat("https://api.matchmytees.com","/").concat(e),{method:"DELETE"})).json()}catch(e){console.log(e)}}})},5960:function(e,t,r){"use strict";var a=r(4131),s=r(9376);t.Z=()=>{let e=(0,s.useRouter)(),t=async(t,r,s)=>{let o=a.Z.get("mmt_user_session");try{let n;if(!o)return e.push("/sign-in"),{response:null,error:"User not authenticated"};let c="".concat("https://api.matchmytees.com","/").concat(t),i={Accept:"application/json",Authorization:"Bearer ".concat(o)};"GET"!==r&&(i["Content-Type"]="application/json");let l={method:r,headers:i,body:"GET"!==r?JSON.stringify(s):void 0};n=await fetch(c,l);let u=await n.json();if(401===n.status)return a.Z.remove("mmt_user_name"),a.Z.remove("mmt_user_session"),a.Z.remove("mmt_user_id"),e.push("/sign-in"),{response:null,error:"Unauthorized token"};return{response:u,error:null}}catch(e){return console.log("Error in API call:",e),{response:null,error:e}}};return{performGet:async e=>t(e,"GET"),performPost:async(e,r)=>t(e,"POST",r),performPut:async(e,r)=>t(e,"PUT",r),performDelete:async e=>t(e,"DELETE")}}},4131:function(e,t,r){"use strict";function a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)e[a]=r[a]}return e}r.d(t,{Z:function(){return s}});var s=function e(t,r){function s(e,s,o){if("undefined"!=typeof document){"number"==typeof(o=a({},r,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var c in o)o[c]&&(n+="; "+c,!0!==o[c]&&(n+="="+o[c].split(";")[0]));return document.cookie=e+"="+t.write(s,e)+n}}return Object.create({set:s,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],a={},s=0;s<r.length;s++){var o=r[s].split("="),n=o.slice(1).join("=");try{var c=decodeURIComponent(o[0]);if(a[c]=t.read(n,c),e===c)break}catch(e){}}return e?a[e]:a}},remove:function(e,t){s(e,"",a({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,a({},this.attributes,t))},withConverter:function(t){return e(a({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[2972,8003,5752,7061,9501,2971,2117,1744],function(){return e(e.s=3919)}),_N_E=e.O()}]);