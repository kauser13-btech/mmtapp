(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8639],{2431:function(){},8075:function(e,t,s){Promise.resolve().then(s.bind(s,5168)),Promise.resolve().then(s.t.bind(s,2972,23)),Promise.resolve().then(s.bind(s,1523)),Promise.resolve().then(s.bind(s,49))},9978:function(e,t,s){"use strict";var a=s(7437),o=s(9376),r=s(2265);t.Z=e=>{let{modalId:t="my_modal_2",children:s,background:n="bg-white",onClick:l,type:i="general"}=e,c=(0,o.usePathname)(),d=(0,o.useSearchParams)();return(0,r.useEffect)(()=>{t&&"promotional_modal_id"!==t&&document.getElementById(t).close()},[c,d]),(0,a.jsxs)("dialog",{id:t,className:"modal",children:[(0,a.jsx)("div",{className:"modal-box ".concat(n),children:s}),"otp"!==i&&(0,a.jsx)("form",{onClick:l,method:"dialog",className:"modal-backdrop",children:(0,a.jsx)("button",{children:"close"})})]})}},3562:function(e,t,s){"use strict";var a=s(7437),o=s(2265);s(3145);var r=s(9978),n=s(4809),l=s(3775),i=s(9501),c=s(149),d=s(7061);t.Z=e=>{let{modalHandle:t,sendOtpEmail:s,type:m}=e,[u,p]=(0,o.useState)(3),[f,h]=(0,o.useState)(0),[g,x]=(0,o.useState)(!1),{register:w,handleSubmit:y,formState:{errors:b},setError:j}=(0,i.cI)(),{performPost:v}=(0,l.Z)(),P=(0,c.tv)(),N=async e=>{if(""===s)return d.Am.error("something went wrong with otp email",{autoClose:3e3,theme:"light",transition:Bounce});{let t;let a={email:s,otp:e.otp},o=d.Am.loading("Please wait...");try{(t="ResetPassword"===m?await v("api/v1/otp-validate",a):await v("api/v1/email-verify",a)).success?"ResetPassword"===m?(localStorage.setItem("resetPasswordData",JSON.stringify({email:s,otp:e.otp})),d.Am.update(o,{render:t.message,type:"success",isLoading:!1,autoClose:3e3}),setTimeout(()=>{P.push("/resetpassword"),C()},0)):(d.Am.update(o,{render:t.message,type:"success",isLoading:!1,autoClose:3e3}),setTimeout(()=>{P.push("/sign-in"),C()},0)):j("otp",{type:"manual",message:"Otp is not valid. Please check the code."})}catch(e){console.error("Error while handling OTP request:",e)}}};(0,o.useEffect)(()=>{let e=setInterval(()=>{f>0?h(f-1):u>0?(p(u-1),h(59)):(clearInterval(e),x(!0))},1e3);return()=>clearInterval(e)},[u,f]);let C=()=>{document.getElementById("otp_modal").close()},_=async()=>{let e;let t={email:s},a=d.Am.loading("Please wait...");(e="ResetPassword"===m?await v("api/v1/password/otp-mail",t):await v("api/v1/verify-email-otp",t)).success?(d.Am.update(a,{render:e.message,type:"success",isLoading:!1,autoClose:3e3}),x(!1),p(3),h(0),j("otp",{type:"manual",message:""})):(d.Am.update(a,{render:"Please register as new user.",type:"warning",isLoading:!1,autoClose:3e3}),P.push("/sign-up"))};return(0,a.jsx)(r.Z,{onClick:t,modalId:"otp_modal",type:"otp",background:"bg-white max-w-[905px] h-fit p-4 sm:h-[328px] p-0 overflow-hidden flex ",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center max-w-[685px]  m-auto",children:[(0,a.jsx)("img",{src:"/images/otp/otp.svg",width:176,height:176,className:"w-24 md:w-[176px]"}),(0,a.jsxs)("div",{className:"sm:ml-12",children:[(0,a.jsx)("p",{className:"font-semi text-black text-xl mt-4 sm:text-3xl ",children:"ResetPassword"==m?"Two-factor authentication":"Verify your email"}),(0,a.jsxs)("p",{className:"text-black mt-2 ",children:["A verification code has been sent to your email. This code will be valid for ",u," minute",1!==u&&"s"," and ",f," ","second",1!==f&&"s","."]})," ",g?(0,a.jsx)("button",{className:"text-sm mt-4 text-black hover:underline",onClick:e=>_(),children:"Resend OTP"}):(0,a.jsx)("button",{className:"text-gray-200 text-sm mt-4 underline",disabled:!0,children:"Resend OTP"}),(0,a.jsx)("form",{onSubmit:y(N),children:(0,a.jsxs)("div",{className:" sm:relative",children:[(0,a.jsx)("div",{className:"w-full sm:w-80",children:(0,a.jsx)(n.Z,{name:"otp",type:"number",placeholder:"OTP code",register:w,notRequired:!0,error:b.otp})}),(0,a.jsx)("button",{type:"submit",className:"mt-4 w-full sm:mt-0 sm:absolute sm:w-fit sm:right-10 sm:top-0 btn bg-orange-primary text-white font-medium hover:bg-yellow-primary hover:text-black",children:"Submit"})]})})]})]})})}},5168:function(e,t,s){"use strict";s.r(t);var a=s(7437),o=s(3775),r=s(149),n=s(2265),l=s(9501),i=s(3562),c=s(5007),d=s(4809),m=s(7061);t.default=e=>{let{type:t}=e,{register:s,handleSubmit:u,formState:{errors:p},setError:f}=(0,l.cI)({defaultValues:{name:"",email:"",phone:"",password:"",password2:""}});(0,r.tv)();let{performPost:h}=(0,o.Z)(),[g,x]=(0,n.useState)(""),w=async(e,t)=>{if(e.password!==e.password2){f("password2",{type:"manual",message:"Passwords do not match"});return}try{let t=m.Am.loading("Please wait..."),s={name:e.name,email:e.email,phone:e.phone,password:""!==e.password&&e.password},a=await h("api/v1/register",s);"success"==a.status?(x(a.user.email),m.Am.update(t,{render:a.message,type:"success",isLoading:!1,autoClose:3e3}),j()):(Object.keys(a.errors).forEach(e=>{f(e,{type:"manual",message:a.errors[e][0]})}),m.Am.update(t,{render:a.message,type:"warning",isLoading:!1,autoClose:3e3}))}catch(e){console.log(e)}},[y,b]=(0,n.useState)(!1);(0,n.useEffect)(()=>{y&&document.getElementById("otp_modal").showModal()},[y]);let j=()=>{b(!0),document.getElementById("otp_modal").showModal()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("form",{onSubmit:u(w),className:"flex items-center w-full flex-col gap-10",children:(0,a.jsxs)("div",{className:"flex items-center flex-col gap-4 w-full",children:[(0,a.jsx)(d.Z,{type:"text",name:"name",placeholder:"Full Name",register:s,error:p.name,notRequired:!0}),(0,a.jsx)(d.Z,{type:"email",name:"email",placeholder:"Email",register:s,error:p.email,notRequired:!0}),(0,a.jsx)(d.Z,{type:"tel",name:"phone",placeholder:"Phone",register:s,error:p.phone,notRequired:!1}),(0,a.jsx)(d.Z,{type:"password",name:"password",placeholder:"Password",autoComplete:"off",register:s,error:p.password,notRequired:!0}),(0,a.jsx)(d.Z,{type:"password",name:"password2",placeholder:"Confirm password",register:s,error:p.password2,notRequired:!0}),(0,a.jsx)(c.Z,{name:"Create an Account",type:"submit"})]})}),(0,a.jsx)(i.Z,{modalHandle:()=>{b(!1),document.getElementById("otp_modal").close()},type:t,sendOtpEmail:g})]})}},5007:function(e,t,s){"use strict";var a=s(7437);t.Z=e=>{let{name:t,type:s,disable:o}=e;return(0,a.jsx)("button",{type:s,className:"btn w-full max-w-fit md:max-w-full border-none text-white bg-orange-primary hover:bg-orange-primary/80   active:bg-orange-primary/90 text-sm font-normal md:font-medium md:text-base xl:text-[24px] disabled:bg-orange-primary",disabled:o,children:o?(0,a.jsx)("span",{className:"loading loading-spinner loading-sm !bg-white"}):t})}},4809:function(e,t,s){"use strict";var a=s(7437),o=s(7648);t.Z=e=>{let{type:t,name:s,placeholder:r,register:n,value:l,error:i,isForgot:c=!1,handleChange:d,errorsHandle:m,notRequired:u,defaultValue:p,validation:f}=e,h=e=>{let t=e.target.value;t.length>2&&d&&d(t)};return(0,a.jsxs)("main",{className:"w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col w-full gap-0.5",children:[(0,a.jsx)("input",{className:"w-full h-12 px-4 border border-[#B1B5B8] focus:outline focus:outline-[#00A6AC] rounded-md text-black placeholder:text-[#989898] ".concat("discount"==s&&"bg-[#FBFBFB]"),type:t,name:s,value:l,defaultValue:p,placeholder:r,...n(s,{onChange:e=>{h(e)},...u&&{required:"".concat(s," is required"),...f}})}),c&&(0,a.jsx)(o.default,{className:"self-end font-roboto font-medium underline text-sm text-sub-work-card",href:"/forgotpassword",children:"Forgot password?"})]}),i&&(0,a.jsx)("p",{className:"font-roboto font-medium underline text-sm text-red-400 first-letter:uppercase",children:i.message})]})}},3775:function(e,t){"use strict";t.Z=()=>({performGet:async e=>{try{return(await fetch("".concat("https://api.matchmytees.com","/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}})).json()}catch(e){console.log(e)}},performPost:async(e,t)=>{try{return(await fetch("".concat("https://api.matchmytees.com","/").concat(e),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)})).json()}catch(e){console.log(e)}},performPut:async(e,t)=>{try{return(await fetch("".concat("https://api.matchmytees.com","/").concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})).json()}catch(e){console.log(e)}},performDelete:async e=>{try{return(await fetch("".concat("https://api.matchmytees.com","/").concat(e),{method:"DELETE"})).json()}catch(e){console.log(e)}}})},3145:function(e,t,s){"use strict";s.d(t,{default:function(){return o.a}});var a=s(8461),o=s.n(a)},8461:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return i},getImageProps:function(){return l}});let a=s(7043),o=s(5346),r=s(5878),n=a._(s(5084));function l(e){let{props:t}=(0,o.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let i=r.Image},1523:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return o}});let a=s(8993);function o(e){let{reason:t,children:s}=e;if("undefined"==typeof window)throw new a.BailoutToCSRError(t);return s}},49:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return r}});let a=s(7437),o=s(544);function r(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let s=(0,o.getExpectedRequestStore)("next/dynamic css"),r=[];if(s.reactLoadableManifest&&t){let e=s.reactLoadableManifest;for(let s of t){if(!e[s])continue;let t=e[s].files.filter(e=>e.endsWith(".css"));r.push(...t)}}return 0===r.length?null:(0,a.jsx)(a.Fragment,{children:r.map(e=>(0,a.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:s.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[2972,8003,5752,7061,9501,5878,2971,2117,1744],function(){return e(e.s=8075)}),_N_E=e.O()}]);